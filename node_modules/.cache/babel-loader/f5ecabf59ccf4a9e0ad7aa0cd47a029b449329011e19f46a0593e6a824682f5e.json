{"ast":null,"code":"var _jsxFileName = \"/Users/adriantiu/Documents-assets/new-app/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useRef } from \"react\";\nimport { BrowserRouter as Router, Routes, Route, useLocation, useNavigate } from \"react-router-dom\";\nimport { motion } from \"framer-motion\";\nimport \"./styles.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst videos = [{\n  id: \"1\",\n  src: \"https://www.w3schools.com/html/mov_bbb.mp4\"\n}, {\n  id: \"2\",\n  src: \"https://www.w3schools.com/html/movie.mp4\"\n}, {\n  id: \"3\",\n  src: \"https://www.w3schools.com/html/mov_bbb.mp4\"\n}, {\n  id: \"4\",\n  src: \"https://www.w3schools.com/html/movie.mp4\"\n}, {\n  id: \"5\",\n  src: \"https://www.w3schools.com/html/mov_bbb.mp4\"\n}, {\n  id: \"6\",\n  src: \"https://www.w3schools.com/html/movie.mp4\"\n}, {\n  id: \"7\",\n  src: \"https://www.w3schools.com/html/mov_bbb.mp4\"\n}, {\n  id: \"8\",\n  src: \"https://www.w3schools.com/html/movie.mp4\"\n}, {\n  id: \"9\",\n  src: \"https://www.w3schools.com/html/mov_bbb.mp4\"\n}, {\n  id: \"10\",\n  src: \"https://www.w3schools.com/html/movie.mp4\"\n}, {\n  id: \"11\",\n  src: \"https://www.w3schools.com/html/mov_bbb.mp4\"\n}];\nfunction VideoFeed() {\n  _s();\n  const location = useLocation();\n  const navigate = useNavigate();\n  const containerRef = useRef(null);\n  const videoRefs = useRef([]);\n  const [activeIndex, setActiveIndex] = useState(0);\n\n  // On mount (or URL change), scroll to the video specified in the URL\n  useEffect(() => {\n    const videoIdFromUrl = location.pathname.replace(\"/video/\", \"\");\n    const videoIndex = videos.findIndex(v => v.id === videoIdFromUrl);\n    if (videoIndex !== -1 && containerRef.current) {\n      containerRef.current.scrollTo({\n        top: videoIndex * window.innerHeight,\n        behavior: \"auto\"\n      });\n      setActiveIndex(videoIndex);\n    }\n  }, [location.pathname]);\n\n  // Update URL when activeIndex changes\n  useEffect(() => {\n    navigate(`/video/${videos[activeIndex].id}`, {\n      replace: true\n    });\n  }, [activeIndex, navigate]);\n\n  // Play the active video and pause others\n  useEffect(() => {\n    videoRefs.current.forEach((video, index) => {\n      if (video) {\n        if (index === activeIndex) {\n          video.play().catch(error => console.error(\"Video play failed\", error));\n        } else {\n          video.pause();\n          video.currentTime = 0;\n        }\n      }\n    });\n  }, [activeIndex]);\n\n  // Use IntersectionObserver to update the active video as you scroll\n  useEffect(() => {\n    const observer = new IntersectionObserver(entries => {\n      const visibleEntries = entries.filter(entry => entry.isIntersecting);\n      if (visibleEntries.length > 0) {\n        // Get the video closest to the top\n        visibleEntries.sort((a, b) => a.boundingClientRect.top - b.boundingClientRect.top);\n        const candidate = visibleEntries[0];\n        const index = parseInt(candidate.target.dataset.index, 10);\n        if (index !== activeIndex) {\n          setActiveIndex(index);\n        }\n      }\n    }, {\n      threshold: 0.5\n    });\n    videoRefs.current.forEach((video, index) => {\n      if (video) {\n        video.dataset.index = index;\n        observer.observe(video);\n      }\n    });\n    return () => observer.disconnect();\n  }, [activeIndex]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: containerRef,\n    className: \"h-screen w-screen overflow-y-scroll snap-mandatory snap-y\",\n    children: videos.map((video, index) => /*#__PURE__*/_jsxDEV(motion.div, {\n      className: \"h-screen flex justify-center items-center snap-start\",\n      initial: {\n        opacity: 0.5,\n        scale: 0.9\n      },\n      animate: {\n        opacity: activeIndex === index ? 1 : 0.5,\n        scale: activeIndex === index ? 1 : 0.9\n      },\n      transition: {\n        duration: 0.3\n      },\n      children: /*#__PURE__*/_jsxDEV(\"video\", {\n        ref: el => videoRefs.current[index] = el,\n        src: video.src,\n        className: \"w-auto h-full\",\n        controls: false,\n        muted: true,\n        loop: true,\n        playsInline: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }, this)\n    }, video.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 5\n  }, this);\n}\n_s(VideoFeed, \"kFIDb2gbpnhVV9au76wmcixtarI=\", false, function () {\n  return [useLocation, useNavigate];\n});\n_c = VideoFeed;\nfunction App() {\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: /*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/video/:id\",\n        element: /*#__PURE__*/_jsxDEV(VideoFeed, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 43\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"*\",\n        element: /*#__PURE__*/_jsxDEV(VideoFeed, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 34\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 114,\n    columnNumber: 5\n  }, this);\n}\n_c2 = App;\nexport default App;\nvar _c, _c2;\n$RefreshReg$(_c, \"VideoFeed\");\n$RefreshReg$(_c2, \"App\");","map":{"version":3,"names":["React","useEffect","useState","useRef","BrowserRouter","Router","Routes","Route","useLocation","useNavigate","motion","jsxDEV","_jsxDEV","videos","id","src","VideoFeed","_s","location","navigate","containerRef","videoRefs","activeIndex","setActiveIndex","videoIdFromUrl","pathname","replace","videoIndex","findIndex","v","current","scrollTo","top","window","innerHeight","behavior","forEach","video","index","play","catch","error","console","pause","currentTime","observer","IntersectionObserver","entries","visibleEntries","filter","entry","isIntersecting","length","sort","a","b","boundingClientRect","candidate","parseInt","target","dataset","threshold","observe","disconnect","ref","className","children","map","div","initial","opacity","scale","animate","transition","duration","el","controls","muted","loop","playsInline","fileName","_jsxFileName","lineNumber","columnNumber","_c","App","path","element","_c2","$RefreshReg$"],"sources":["/Users/adriantiu/Documents-assets/new-app/src/App.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\nimport { BrowserRouter as Router, Routes, Route, useLocation, useNavigate } from \"react-router-dom\";\nimport { motion } from \"framer-motion\";\nimport \"./styles.css\";\n\nconst videos = [\n  { id: \"1\", src: \"https://www.w3schools.com/html/mov_bbb.mp4\" },\n  { id: \"2\", src: \"https://www.w3schools.com/html/movie.mp4\" },\n  { id: \"3\", src: \"https://www.w3schools.com/html/mov_bbb.mp4\" },\n  { id: \"4\", src: \"https://www.w3schools.com/html/movie.mp4\" },\n  { id: \"5\", src: \"https://www.w3schools.com/html/mov_bbb.mp4\" },\n  { id: \"6\", src: \"https://www.w3schools.com/html/movie.mp4\" },\n  { id: \"7\", src: \"https://www.w3schools.com/html/mov_bbb.mp4\" },\n  { id: \"8\", src: \"https://www.w3schools.com/html/movie.mp4\" },\n  { id: \"9\", src: \"https://www.w3schools.com/html/mov_bbb.mp4\" },\n  { id: \"10\", src: \"https://www.w3schools.com/html/movie.mp4\" },\n  { id: \"11\", src: \"https://www.w3schools.com/html/mov_bbb.mp4\" }\n];\n\nfunction VideoFeed() {\n  const location = useLocation();\n  const navigate = useNavigate();\n  const containerRef = useRef(null);\n  const videoRefs = useRef([]);\n  const [activeIndex, setActiveIndex] = useState(0);\n\n  // On mount (or URL change), scroll to the video specified in the URL\n  useEffect(() => {\n    const videoIdFromUrl = location.pathname.replace(\"/video/\", \"\");\n    const videoIndex = videos.findIndex((v) => v.id === videoIdFromUrl);\n    if (videoIndex !== -1 && containerRef.current) {\n      containerRef.current.scrollTo({\n        top: videoIndex * window.innerHeight,\n        behavior: \"auto\"\n      });\n      setActiveIndex(videoIndex);\n    }\n  }, [location.pathname]);\n\n  // Update URL when activeIndex changes\n  useEffect(() => {\n    navigate(`/video/${videos[activeIndex].id}`, { replace: true });\n  }, [activeIndex, navigate]);\n\n  // Play the active video and pause others\n  useEffect(() => {\n    videoRefs.current.forEach((video, index) => {\n      if (video) {\n        if (index === activeIndex) {\n          video.play().catch((error) => console.error(\"Video play failed\", error));\n        } else {\n          video.pause();\n          video.currentTime = 0;\n        }\n      }\n    });\n  }, [activeIndex]);\n\n  // Use IntersectionObserver to update the active video as you scroll\n  useEffect(() => {\n    const observer = new IntersectionObserver((entries) => {\n      const visibleEntries = entries.filter((entry) => entry.isIntersecting);\n      if (visibleEntries.length > 0) {\n        // Get the video closest to the top\n        visibleEntries.sort((a, b) => a.boundingClientRect.top - b.boundingClientRect.top);\n        const candidate = visibleEntries[0];\n        const index = parseInt(candidate.target.dataset.index, 10);\n        if (index !== activeIndex) {\n          setActiveIndex(index);\n        }\n      }\n    }, { threshold: 0.5 });\n    \n    videoRefs.current.forEach((video, index) => {\n      if (video) {\n        video.dataset.index = index;\n        observer.observe(video);\n      }\n    });\n    \n    return () => observer.disconnect();\n  }, [activeIndex]);\n\n  return (\n    <div\n      ref={containerRef}\n      className=\"h-screen w-screen overflow-y-scroll snap-mandatory snap-y\"\n    >\n      {videos.map((video, index) => (\n        <motion.div\n          key={video.id}\n          className=\"h-screen flex justify-center items-center snap-start\"\n          initial={{ opacity: 0.5, scale: 0.9 }}\n          animate={{ opacity: activeIndex === index ? 1 : 0.5, scale: activeIndex === index ? 1 : 0.9 }}\n          transition={{ duration: 0.3 }}\n        >\n          <video\n            ref={(el) => (videoRefs.current[index] = el)}\n            src={video.src}\n            className=\"w-auto h-full\"\n            controls={false}\n            muted\n            loop\n            playsInline\n          />\n        </motion.div>\n      ))}\n    </div>\n  );\n}\n\nfunction App() {\n  return (\n    <Router>\n      <Routes>\n        <Route path=\"/video/:id\" element={<VideoFeed />} />\n        <Route path=\"*\" element={<VideoFeed />} />\n      </Routes>\n    </Router>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}